<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:camunda="http://camunda.org/schema/1.0/bpmn" id="Definitions_1" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Modeler" exporterVersion="4.10.0">
  <bpmn:message id="Message_1pwyzn6" name="MapCreated" />
  <bpmn:collaboration id="Collaboration_1coanp3">
    <bpmn:participant id="DSAEEParticipant" name="DSAEE" processRef="GR_NAT_CCP_DSAEE" />
    <bpmn:participant id="Participant_0p2ucd3" name="Regional Media Department" processRef="Process_1og7vnw" />
    <bpmn:participant id="Participant_0sncif7" name="Organisations" processRef="Organisations" />
    <bpmn:participant id="Participant_0vmfn7v" processRef="IssueWarning" />
    <bpmn:participant id="Participant_0snlijd" name="#{result.region_eng}_DEC_ADMIN_CP" processRef="GR_DEC_ADMIN_CP" />
    <bpmn:participant id="CIVILPROTECTIONREGIONOF" name="#{result.region}" processRef="GR_REG_CP" />
    <bpmn:participant id="ESKEParticipant" name="ESKE" processRef="GR_NAT_CP_ESKE" />
    <bpmn:participant id="Participant_0q4jcxy" processRef="SendEmail" />
    <bpmn:participant id="Participant_1542ehx" name="Municipality" processRef="Process_15sjp3j" />
    <bpmn:messageFlow id="Flow_1qzwh0d" sourceRef="Activity_0pl595k" targetRef="Event_1p6l04b" />
    <bpmn:messageFlow id="Flow_1vwp4e0" sourceRef="Activity_1e1sd8h" targetRef="Event_1y9l5y3" />
    <bpmn:messageFlow id="Flow_0s1zqr6" sourceRef="IssueWarningsForFireServiceTask" targetRef="Event_0fndt8y" />
    <bpmn:messageFlow id="Flow_06dqhja" sourceRef="SendMapToESKETask" targetRef="MapReceivedStartEvent" />
    <bpmn:messageFlow id="Flow_023g7ca" sourceRef="Activity_18sl4in" targetRef="Event_0m594yx" />
    <bpmn:messageFlow id="Flow_1dmwj44" sourceRef="Activity_16o3l89" targetRef="Event_0kga48z" />
    <bpmn:textAnnotation id="TextAnnotation_050pbr5">
      <bpmn:text>Σύνταξη Χάρτη Πρόβλεψης Κινδύνου Πυρκαγίας (from 01/06 to 31/10). Όλοκληρώνεται μέχρι τις 12:30 και ισχυεί από την επομένη.</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:textAnnotation id="TextAnnotation_0a7nf9i">
      <bpmn:text>THIRD LEVEL cp</bpmn:text>
    </bpmn:textAnnotation>
  </bpmn:collaboration>
  <bpmn:process id="GR_NAT_CCP_DSAEE" name="iolaos" isExecutable="true">
    <bpmn:laneSet id="LaneSet_0ddqjdr">
      <bpmn:lane id="DSAEEGR_Sci_TeamLane" name="DSAEE / : GR_Sci_Team">
        <bpmn:flowNodeRef>UpdateTheWebSiteTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ProcessEndedEndEvent</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>ProcessStartedStartEvent</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_0phsra1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>UploadMapTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>SendMapToESKETask</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:userTask id="UpdateTheWebSiteTask" name="Update Web Site" camunda:assignee="DSAEE" camunda:candidateGroups="GrDSAEE">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="map_image">${map}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0abedys</bpmn:incoming>
      <bpmn:outgoing>Flow_07xfzih</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="ProcessEndedEndEvent" name="Process Ended">
      <bpmn:incoming>Flow_07xfzih</bpmn:incoming>
      <bpmn:incoming>Flow_1yot5ag</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:startEvent id="ProcessStartedStartEvent" name="Process&#10;started">
      <bpmn:extensionElements>
        <camunda:executionListener event="start">
          <camunda:script scriptFormat="javascript">var processDefinitionId = execution.getProcessDefinitionId();

var deploymentId = execution.getProcessEngineServices().getRepositoryService().getProcessDefinition(processDefinitionId).getDeploymentId();

var resource = execution.getProcessEngineServices().getRepositoryService().getResourceAsStream(deploymentId, 'greece.json');


var IOUtils = Java.type('org.apache.commons.io.IOUtils');
var String = Java.type('java.lang.String');

var myConfigFile = S(new String(IOUtils.toByteArray(resource), 'UTF-8'));

execution.setVariable("_configuration", myConfigFile);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1g4wsez</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_07xfzih" sourceRef="UpdateTheWebSiteTask" targetRef="ProcessEndedEndEvent" />
    <bpmn:parallelGateway id="Gateway_0phsra1">
      <bpmn:incoming>Flow_0zroomx</bpmn:incoming>
      <bpmn:outgoing>Flow_0abedys</bpmn:outgoing>
      <bpmn:outgoing>Flow_10bjbpd</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="Flow_0abedys" sourceRef="Gateway_0phsra1" targetRef="UpdateTheWebSiteTask" />
    <bpmn:sequenceFlow id="Flow_10bjbpd" sourceRef="Gateway_0phsra1" targetRef="SendMapToESKETask" />
    <bpmn:userTask id="UploadMapTask" name="Upload Map" camunda:formKey="embedded:app:forms/task-form-upload-map.html" camunda:assignee="DSAEE" camunda:candidateGroups="GrDSAEE">
      <bpmn:incoming>Flow_1g4wsez</bpmn:incoming>
      <bpmn:outgoing>Flow_0zroomx</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0zroomx" sourceRef="UploadMapTask" targetRef="Gateway_0phsra1" />
    <bpmn:sequenceFlow id="Flow_1yot5ag" sourceRef="SendMapToESKETask" targetRef="ProcessEndedEndEvent" />
    <bpmn:sequenceFlow id="Flow_1g4wsez" sourceRef="ProcessStartedStartEvent" targetRef="UploadMapTask" />
    <bpmn:scriptTask id="SendMapToESKETask" name="Send Map to ESKE" scriptFormat="javascript">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="groupID">MapRecipients</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_10bjbpd</bpmn:incoming>
      <bpmn:outgoing>Flow_1yot5ag</bpmn:outgoing>
      <bpmn:script>var fileValue=execution
.getProcessEngineServices()
.getRuntimeService()
.getVariableTyped(execution.getId(),"map");



execution.getProcessEngineServices().getRuntimeService() 		.createMessageCorrelation("MapSentFromDSAEE") 		.processInstanceId("process-map") 		.setVariable("map",fileValue)                 .setVariable("_configuration",_configuration) 		.correlateStartMessage()</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:textAnnotation id="TextAnnotation_1jh6669">
      <bpmn:text>Every day at 12:30pm</bpmn:text>
    </bpmn:textAnnotation>
    <bpmn:association id="Association_1syvntm" sourceRef="ProcessStartedStartEvent" targetRef="TextAnnotation_1jh6669" />
  </bpmn:process>
  <bpmn:message id="Message_0f52adi" name="MapSentFromDSAEE" />
  <bpmn:message id="Message_10sfrp2" name="ACTOR_TRANS_EWM_THIRD_LEVEL_CP" />
  <bpmn:message id="Message_18dneye" name="ACTOR_TRANS_EWM_SECOND_LEVEL_CP" />
  <bpmn:signal id="Signal_0kigfcl" name="SIgnalFromESKE" />
  <bpmn:message id="Message_0d9omsb" name="MapUploadedExternally" />
  <bpmn:message id="Message_0vxzncr" name="MapUploadedExternally" />
  <bpmn:message id="Message_0vhjqy5" name="ACTOR_TRANS_EWM_ORGANISATIONS" />
  <bpmn:message id="Message_0zyrk5e" name="SECOND_LEVEL_CP_CENTER_TRANS _DANG_MES_SECOND_LEVEL_OFFICERS" />
  <bpmn:message id="Message_0o8xybe" name="2L_CP_CENTER_TRANS _DANG_MES_MEDIA" />
  <bpmn:process id="Process_1og7vnw" name="Regional Media Department" isExecutable="true">
    <bpmn:endEvent id="Event_06ndr3r">
      <bpmn:incoming>Flow_0g1seh0</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:startEvent id="Event_1p6l04b">
      <bpmn:outgoing>Flow_0j4176e</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0janwkm" messageRef="Message_0o8xybe" />
    </bpmn:startEvent>
    <bpmn:userTask id="Activity_0olh69l" name="Check Warning" camunda:candidateGroups="Gr#{result.region_eng}#{organisation.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_0ssmlfr" label="result" type="string" defaultValue="#{result}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0j4176e</bpmn:incoming>
      <bpmn:outgoing>Flow_0g1seh0</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0g1seh0" sourceRef="Activity_0olh69l" targetRef="Event_06ndr3r" />
    <bpmn:sequenceFlow id="Flow_0j4176e" sourceRef="Event_1p6l04b" targetRef="Activity_0olh69l" />
  </bpmn:process>
  <bpmn:process id="Organisations" isExecutable="true">
    <bpmn:startEvent id="Event_1y9l5y3">
      <bpmn:outgoing>Flow_01l5nlo</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1l1brp2" messageRef="Message_0vhjqy5" />
    </bpmn:startEvent>
    <bpmn:userTask id="Activity_04kkb2m" name="#{organisation}: Check Warning" camunda:candidateGroups="Gr#{organisation}">
      <bpmn:incoming>Flow_01l5nlo</bpmn:incoming>
      <bpmn:outgoing>Flow_0is8oks</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="Event_0oh7wl3">
      <bpmn:incoming>Flow_0is8oks</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sequenceFlow id="Flow_01l5nlo" sourceRef="Event_1y9l5y3" targetRef="Activity_04kkb2m" />
    <bpmn:sequenceFlow id="Flow_0is8oks" sourceRef="Activity_04kkb2m" targetRef="Event_0oh7wl3" />
  </bpmn:process>
  <bpmn:process id="IssueWarning" isExecutable="true">
    <bpmn:endEvent id="Event_06lokac">
      <bpmn:incoming>Flow_0wiejy0</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sendTask id="Activity_1ihznuv" name="Send Warning" camunda:expression="${execution.getProcessEngineServices().getRuntimeService().createMessageCorrelation(message_name).processInstanceBusinessKey(business_key).setVariable(&#34;result&#34;, result).setVariable(&#34;map&#34;, map).setVariable(&#34;_configuration&#34;, _configuration).setVariable(&#34;organisation&#34;, organisation).correlateWithResult()}">
      <bpmn:incoming>Flow_0otiu2z</bpmn:incoming>
      <bpmn:outgoing>Flow_0wiejy0</bpmn:outgoing>
    </bpmn:sendTask>
    <bpmn:startEvent id="Event_1dt75b2">
      <bpmn:outgoing>Flow_0otiu2z</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_0wiejy0" sourceRef="Activity_1ihznuv" targetRef="Event_06lokac" />
    <bpmn:sequenceFlow id="Flow_0otiu2z" sourceRef="Event_1dt75b2" targetRef="Activity_1ihznuv" />
  </bpmn:process>
  <bpmn:process id="GR_DEC_ADMIN_CP" isExecutable="true">
    <bpmn:sequenceFlow id="Flow_0s9f5om" sourceRef="Event_0m594yx" targetRef="Che" />
    <bpmn:sequenceFlow id="Flow_12cqkkd" sourceRef="Activity_16o3l89" targetRef="Event_1lk62ix" />
    <bpmn:sequenceFlow id="Flow_10zixf5" sourceRef="Che" targetRef="Activity_16o3l89" />
    <bpmn:startEvent id="Event_0m594yx">
      <bpmn:outgoing>Flow_0s9f5om</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1kovnuq" messageRef="Message_10sfrp2" />
    </bpmn:startEvent>
    <bpmn:userTask id="Che" name="Check Warning" camunda:assignee="Gr#{organisation}DecentralisedCP" camunda:candidateGroups="Gr#{organisation}DecentralisedCP">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_0637las" label="Περιφέρεια" type="string" defaultValue="#{result.region_eng}" />
          <camunda:formField id="FormField_1a467vj" label="Κατηγορία Κινδύνου 3" type="string" defaultValue="#{result[&#34;3&#34;]}" />
          <camunda:formField id="FormField_2i33lit" label="Κατηγορία Κινδύνου 4" type="string" defaultValue="#{result[&#34;4&#34;]}" />
          <camunda:formField id="FormField_0ci2vqi" label="Κατηγορία Κινδύνου 5" type="string" defaultValue="#{result[&#34;5&#34;]}" />
        </camunda:formData>
        <camunda:executionListener event="start">
          <camunda:script scriptFormat="javascript">var result =execution.getVariable("result");
var region=execution.getVariable("organisation")

var system = java.lang.System;
system.out.println('This prints to the console');
var four_string=result["4"]
if(four_string==null)
{
var four=[]
}
else
{
var four=four_string.split(",")
}
var five_string=result["5"]
if(five_string==null)
{
var five=[]
}
else
{
var five=five_string.split(",")
}
var configuration=execution.getVariable("_configuration")
var regional_units=_configuration.prop("regions").prop(result.region_eng).prop('regional_units').fieldNames()


var jsonValue = S('{}');




var i;
var j;
var k;
var ll;


for(i = 0; i&lt;regional_units.length;i++)
{
	ru=regional_units[i]
  fire_services=configuration.prop("regions").prop(result.region_eng).prop('regional_units').prop(ru).prop("fire_services").fieldNames()
  for(j=0; j&lt;fire_services.length;j++)
  {
  	fs=fire_services[j]
    var mun=_configuration.prop("regions").prop(result.region_eng).prop('regional_units').prop(ru).prop("fire_services").prop(fs).prop("municipalities").elements()
	for(ll=0;ll&lt;four.length;ll++)
	{
		if(four[ll]==fs)
		{
		
			for(k=0;k&lt;mun.length;k++)
            {
              var mm=mun.get(k).value()
              

             var object = {
  "danger": 4,
  "RU": ru,
  "region_name":result.region_eng
};
jsonValue.prop(mm, object);





            }
		
		}
	
	}
		for(ll=0;ll&lt;five.length;ll++)
	{
		if(five[ll]==fs)
		{
		
			for(k=0;k&lt;mun.length;k++)
            {
              var mm=mun.get(k).value()
              
             var object = {
  "danger": 5,
  "RU": ru,
  "region_name":result.region_eng
};
jsonValue.prop(mm, object);

            }
		
		}
	
	}

 
    
  }
}



execution.setVariable("municipalities", jsonValue)

execution.setVariable("four",four)</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0s9f5om</bpmn:incoming>
      <bpmn:outgoing>Flow_10zixf5</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:callActivity id="Activity_16o3l89" name="Notify municipalities" calledElement="IssueWarning">
      <bpmn:extensionElements>
        <camunda:in sourceExpression="${municipalities}" target="result" />
        <camunda:in sourceExpression="ACTOR_TRANS_EWM_MUNICIPALITIES" target="message_name" />
        <camunda:in sourceExpression="${organisation.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}_process" target="business_key" />
        <camunda:in sourceExpression="${map}" target="map" />
        <camunda:in sourceExpression="${municipality}" target="organisation" />
        <camunda:in sourceExpression="${_configuration}" target="_configuration" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_10zixf5</bpmn:incoming>
      <bpmn:outgoing>Flow_12cqkkd</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${municipalities.fieldNames()}" camunda:elementVariable="municipality" />
    </bpmn:callActivity>
    <bpmn:endEvent id="Event_1lk62ix">
      <bpmn:incoming>Flow_12cqkkd</bpmn:incoming>
    </bpmn:endEvent>
  </bpmn:process>
  <bpmn:process id="GR_REG_CP" name="GR_REG_CP" isExecutable="true">
    <bpmn:extensionElements>
      <camunda:executionListener event="start">
        <camunda:script scriptFormat="javascript">var result =execution.getVariable("result");

var _configuration=execution.getVariable("_configuration")
var list=_configuration.prop("regions").prop(result.region_eng).prop('GrRegCpOfficers').elements()


var regional_units=_configuration.prop("regions").prop(result.region_eng).prop("regional_units").fieldNames();


var jsonValue = S('{ "values":[] }');
var i;
var j;

for(i = 0; i&lt;list.length;i++){
var id = list[i];
if(id=="ViceRegionalGovernor" &amp;&amp; regional_units)
{
for(j = 0; j&lt;regional_units.length;j++){
id=regional_units[j]+"ViceRegionalGovernor";
jsonValue.prop("values").append(id);
}
}
else{
jsonValue.prop("values").append(id); 
}
}
execution.setVariable("memberIdList", jsonValue);




</camunda:script>
      </camunda:executionListener>
      <camunda:executionListener event="start">
        <camunda:script scriptFormat="javascript">var result =execution.getVariable("result");
var _configuration=execution.getVariable("_configuration")

var list=_configuration.prop("regions").prop(result.region_eng).prop('GrRegCpMedia').elements();



var jsonValue = S('{ "values":[] }');
var i;
for(i = 0; i&lt;list.length;i++){
var id = list[i];
jsonValue.prop("values").append(id); 
}


execution.setVariable("departmentIdList", jsonValue);




</camunda:script>
      </camunda:executionListener>
    </bpmn:extensionElements>
    <bpmn:laneSet id="LaneSet_1st1hh4">
      <bpmn:lane id="ReadinessStateLane" name="Readiness state">
        <bpmn:flowNodeRef>InformPublicInRegionalLevelTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>PTask1</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>PPTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_159epyi</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_14wcs6j</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0bp6tzg</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0pl595k</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>PTask</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Gateway_1xajg61</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Event_0fndt8y</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0f4sj10</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0tsftw8</bpmn:flowNodeRef>
        <bpmn:flowNodeRef>Activity_0m1q643</bpmn:flowNodeRef>
      </bpmn:lane>
    </bpmn:laneSet>
    <bpmn:userTask id="InformPublicInRegionalLevelTask" name="Inform in local level" camunda:candidateGroups="Gr#{result.region_name_camelCase}RegionalCP">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_2epfli1" label="Επείγον σήμα" type="string" defaultValue="#{signal}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1s6i6ia</bpmn:incoming>
      <bpmn:outgoing>Flow_1wjp4f6</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="PTask1" name="Readiness for consequences relief" camunda:candidateGroups="Gr#{result.region_name_camelCase}RegionalCP">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_0vh9fsp" label="Επείγον σήμα" type="string" defaultValue="#{signal}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_18c7ids</bpmn:incoming>
      <bpmn:outgoing>Flow_19p3qv7</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="PPTask" name="Inform professionals working in the countryside" camunda:candidateGroups="Gr#{result.region_name_camelCase}RegionalCP">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_12d7uog" label="Επείγον σήμα" type="string" defaultValue="#{signal}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0r8liiu</bpmn:incoming>
      <bpmn:outgoing>Flow_1pkdo4j</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_18c7ids" sourceRef="Gateway_1xajg61" targetRef="PTask1" />
    <bpmn:sequenceFlow id="Flow_19p3qv7" sourceRef="PTask1" targetRef="Event_14wcs6j" />
    <bpmn:sequenceFlow id="Flow_1qk2l9u" sourceRef="Gateway_1xajg61" targetRef="Event_14wcs6j" />
    <bpmn:sequenceFlow id="Flow_1qcuc5p" sourceRef="Gateway_1xajg61" targetRef="PTask" />
    <bpmn:sequenceFlow id="Flow_1s6i6ia" sourceRef="Gateway_1xajg61" targetRef="InformPublicInRegionalLevelTask" />
    <bpmn:sequenceFlow id="Flow_0r8liiu" sourceRef="Gateway_1xajg61" targetRef="PPTask" />
    <bpmn:sequenceFlow id="Flow_0cmuong" sourceRef="PTask" targetRef="Event_14wcs6j" />
    <bpmn:sequenceFlow id="Flow_1wjp4f6" sourceRef="InformPublicInRegionalLevelTask" targetRef="Event_14wcs6j" />
    <bpmn:sequenceFlow id="Flow_1pkdo4j" sourceRef="PPTask" targetRef="Event_14wcs6j" />
    <bpmn:sequenceFlow id="Flow_0go2ffh" sourceRef="Activity_0m1q643" targetRef="Gateway_1xajg61" />
    <bpmn:sequenceFlow id="Flow_0euffaq" sourceRef="Activity_0pl595k" targetRef="Event_14wcs6j" />
    <bpmn:sequenceFlow id="Flow_0u3croq" sourceRef="Gateway_1xajg61" targetRef="Activity_0pl595k" />
    <bpmn:sequenceFlow id="Flow_1rva8db" sourceRef="Gateway_1xajg61" targetRef="Activity_159epyi" />
    <bpmn:sequenceFlow id="Flow_0xjt14g" sourceRef="Activity_0bp6tzg" targetRef="Event_14wcs6j" />
    <bpmn:sequenceFlow id="Flow_0yw1oja" sourceRef="Activity_159epyi" targetRef="Event_14wcs6j" />
    <bpmn:userTask id="Activity_159epyi" name="Inform vice Regional Governor" camunda:candidateGroups="Gr#{result.region_name_camelCase}ViceGovernor">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_1beb0p8" label="Επείγον σήμα" type="string" defaultValue="#{signal}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1rva8db</bpmn:incoming>
      <bpmn:outgoing>Flow_0yw1oja</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="Event_14wcs6j">
      <bpmn:incoming>Flow_1pkdo4j</bpmn:incoming>
      <bpmn:incoming>Flow_1wjp4f6</bpmn:incoming>
      <bpmn:incoming>Flow_0cmuong</bpmn:incoming>
      <bpmn:incoming>Flow_19p3qv7</bpmn:incoming>
      <bpmn:incoming>Flow_0euffaq</bpmn:incoming>
      <bpmn:incoming>Flow_1qk2l9u</bpmn:incoming>
      <bpmn:incoming>Flow_0xjt14g</bpmn:incoming>
      <bpmn:incoming>Flow_0yw1oja</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:subProcess id="Activity_0bp6tzg" name="Convention of SOPP">
      <bpmn:incoming>Flow_0898rvj</bpmn:incoming>
      <bpmn:outgoing>Flow_0xjt14g</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${regional_units.prop(&#34;regional_units&#34;).elements()}" camunda:elementVariable="regional_unit" />
      <bpmn:userTask id="Activity_0f5wd96" name="Apply decisions of SOPP" camunda:candidateGroups="Gr#{result.region_name_camelCase}#{regional_unit.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}ViceGovernor">
        <bpmn:incoming>Flow_0lep8d6</bpmn:incoming>
        <bpmn:outgoing>Flow_0iyoslc</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:userTask id="Activity_1qpvepd" name="Convention of SOPP" camunda:candidateGroups="Gr#{result.region_name_camelCase}#{regional_unit.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}ViceGovernor">
        <bpmn:incoming>Flow_1cvmjqk</bpmn:incoming>
        <bpmn:outgoing>Flow_0lep8d6</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:endEvent id="Event_1b90gf4">
        <bpmn:incoming>Flow_0iyoslc</bpmn:incoming>
        <bpmn:incoming>Flow_11r490f</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:exclusiveGateway id="Gateway_1x419ib">
        <bpmn:incoming>Flow_0wzpx3i</bpmn:incoming>
        <bpmn:outgoing>Flow_1cvmjqk</bpmn:outgoing>
        <bpmn:outgoing>Flow_11r490f</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:userTask id="Activity_014ybvd" name="Do we convene  SOPP?" camunda:formKey="embedded:app:forms/convocation-sapp.html" camunda:candidateGroups="Gr#{result.region_name_camelCase}#{regional_unit.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}ViceGovernor">
        <bpmn:extensionElements>
          <camunda:formData>
            <camunda:formField id="FormField_0570198" label="Επείγον σήμα" type="string" defaultValue="#{signal}" />
          </camunda:formData>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1wvfefo</bpmn:incoming>
        <bpmn:outgoing>Flow_0wzpx3i</bpmn:outgoing>
      </bpmn:userTask>
      <bpmn:startEvent id="Event_1vzf6x2">
        <bpmn:outgoing>Flow_1wvfefo</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_0wzpx3i" sourceRef="Activity_014ybvd" targetRef="Gateway_1x419ib" />
      <bpmn:sequenceFlow id="Flow_0iyoslc" sourceRef="Activity_0f5wd96" targetRef="Event_1b90gf4" />
      <bpmn:sequenceFlow id="Flow_1cvmjqk" name="Yes" sourceRef="Gateway_1x419ib" targetRef="Activity_1qpvepd">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{convocation}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_0lep8d6" sourceRef="Activity_1qpvepd" targetRef="Activity_0f5wd96" />
      <bpmn:sequenceFlow id="Flow_1wvfefo" sourceRef="Event_1vzf6x2" targetRef="Activity_014ybvd" />
      <bpmn:sequenceFlow id="Flow_11r490f" name="No" sourceRef="Gateway_1x419ib" targetRef="Event_1b90gf4">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{convocation}</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
    </bpmn:subProcess>
    <bpmn:callActivity id="Activity_0pl595k" name="Inform new media" calledElement="IssueWarning">
      <bpmn:extensionElements>
        <camunda:in sourceExpression="${result}" target="result" />
        <camunda:in sourceExpression="2L_CP_CENTER_TRANS _DANG_MES_MEDIA" target="message_name" />
        <camunda:in sourceExpression="${result.region_eng}:${department.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}_process" target="business_key" />
        <camunda:in sourceExpression="${map}" target="map" />
        <camunda:in sourceExpression="${department.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}" target="organisation" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0u3croq</bpmn:incoming>
      <bpmn:outgoing>Flow_0euffaq</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${departmentIdList.prop(&#34;values&#34;).elements()}" camunda:elementVariable="department" />
    </bpmn:callActivity>
    <bpmn:userTask id="PTask" name="Readiness and support Fire Service" camunda:candidateGroups="Gr#{result.region_name_camelCase}RegionalCP">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_3ktifb6" label="Επείγον σήμα" type="string" defaultValue="#{signal}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1qcuc5p</bpmn:incoming>
      <bpmn:outgoing>Flow_0cmuong</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0898rvj" sourceRef="Gateway_1xajg61" targetRef="Activity_0bp6tzg" />
    <bpmn:parallelGateway id="Gateway_1xajg61">
      <bpmn:incoming>Flow_0go2ffh</bpmn:incoming>
      <bpmn:outgoing>Flow_0r8liiu</bpmn:outgoing>
      <bpmn:outgoing>Flow_1s6i6ia</bpmn:outgoing>
      <bpmn:outgoing>Flow_1qcuc5p</bpmn:outgoing>
      <bpmn:outgoing>Flow_1qk2l9u</bpmn:outgoing>
      <bpmn:outgoing>Flow_18c7ids</bpmn:outgoing>
      <bpmn:outgoing>Flow_0u3croq</bpmn:outgoing>
      <bpmn:outgoing>Flow_1rva8db</bpmn:outgoing>
      <bpmn:outgoing>Flow_0898rvj</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="Flow_068te3k" sourceRef="Event_0fndt8y" targetRef="Activity_0f4sj10" />
    <bpmn:startEvent id="Event_0fndt8y" name="warning received">
      <bpmn:outgoing>Flow_068te3k</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_0g9ojdn" messageRef="Message_18dneye" />
    </bpmn:startEvent>
    <bpmn:scriptTask id="Activity_0f4sj10" name="Find Reginal Unit" scriptFormat="javascript">
      <bpmn:incoming>Flow_068te3k</bpmn:incoming>
      <bpmn:outgoing>Flow_1lm6oje</bpmn:outgoing>
      <bpmn:script>var result =execution.getVariable("result");
var region=execution.getVariable("organisation")


var four_string=result["4"]
if(four_string==null)
{
var four=[]
}
else
{
var four=four_string.split(",")
}

var five_string=result["5"]
if(five_string==null)
{
var five=[]
}
else
{
var five=five_string.split(",")
}
var foursOrfives=four.concat(five)
var ru_4=[]
var ru_5=[]

var configuration=execution.getVariable("_configuration")
var regional_units=_configuration.prop("regions").prop(result.region_eng).prop('regional_units').fieldNames()

var jsonValue = S('{ "regional_units":[], "ru_4":[], "ru_5":[]}');
var i;
var j;
var k;
var ll;

for(i = 0; i&lt;regional_units.length;i++)
{
	ru=regional_units[i]
  fire_services=configuration.prop("regions").prop(result.region_eng).prop('regional_units').prop(ru).prop("fire_services").fieldNames()
  for(j=0; j&lt;fire_services.length;j++)
  {
	fs=fire_services[j]


// Find regional Units with 5
	for(ll=0;ll&lt;five.length;ll++)
	{
		if(five[ll]==fs)
		{
                        jsonValue.prop("ru_5").append(ru);
			jsonValue.prop("regional_units").append(ru);
			break;
		
		}
	
	}
// Find regional Units with 4 and not 5
	for(ll=0;ll&lt;four.length;ll++)
	{
		if(four[ll]==fs)
		{
                        //IF we have already added the RU
                         if(jsonValue.prop("ru_4").toString().contains(ru))
                        {
                            break;
                        }
                        jsonValue.prop("ru_4").append(ru);
			jsonValue.prop("regional_units").append(ru);
			break;		
		}
	
	}


	}  
  
  }






  
  execution.setVariable("regional_units",jsonValue)
 execution.setVariable("ru_4",ru_4)
 execution.setVariable("ru_5",ru_5)
 </bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_1lm6oje" sourceRef="Activity_0f4sj10" targetRef="Activity_0tsftw8" />
    <bpmn:sequenceFlow id="Flow_1ucrvsb" sourceRef="Activity_0tsftw8" targetRef="Activity_0m1q643" />
    <bpmn:scriptTask id="Activity_0tsftw8" name="Create Warning Signal" scriptFormat="javascript">
      <bpmn:incoming>Flow_1lm6oje</bpmn:incoming>
      <bpmn:outgoing>Flow_1ucrvsb</bpmn:outgoing>
      <bpmn:script>var result =execution.getVariable("result");
var region=execution.getVariable("organisation")

var regional_units=execution.getVariable("regional_units")

var ru_4=regional_units.prop('ru_4').elements()
var ru_5=regional_units.prop('ru_5').elements()

var four_string=result["4"]
var fos=""
var fis=""

if(ru_4.length==0)
{
 fos=""

}
else
{

fos="σε κατηγορία κινδύνου 4 (Πολύ Υψηλός Κίνδυνος εκδήλωσης Πυρκαγιάς) στις ΠΕ: "+ru_4.toString();
}

if(ru_5.length==0)
{
 fis=""
}
else
{

fis="σε κατηγορία κινδύνου 5 (Kατάσταση Συναγερμού ) στις ΠΕ: "+ru_5.toString();
}





var signal="Σας ενημερώνουμε ότι εκδόθηκε ο ημερήσιος Χάρτης Πρόβλεψης Κινδύνου Πυρκαγιάς. Στον ανωτέρω χάρτη η Περιφέρειά μας βρίσκεται "+ fos + fis+".  Παρακαλούμε τις υπηρεσίες της Περιφέρειας, που εμπλέκονται σε έργα και δράσεις για την αντιμετώπιση κινδύνων από δασικές Πυρκαγιές, να τεθούν σε κατάσταση ετοιμότητας βάσει του σχεδιασμού τους  και των αποφάσεων του  Σ.Ο.Π.Π., προκειμένου να αντιμετωπιστούν πιθανά προβλήματα που θα δημιουργηθούν. Περισσότερες πληροφορίες στην ιστοσελίδα της Γενικής Γραμματείας Πολιτικής Προστασίας (http://civilprotection.gr/el/)"

execution.setVariable("signal",signal)



</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:userTask id="Activity_0m1q643" name="Check Warning" camunda:candidateGroups="Gr#{result.region_name_camelCase}RegionalCP">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_04mdmr8" label="Περιφέρεια" type="string" defaultValue="#{result.region_eng}" />
          <camunda:formField id="FormField_0ornnkj" label="Κατηγορία Κινδύνου 3" type="string" defaultValue="#{result[&#34;3&#34;]}" />
          <camunda:formField id="FormField_0ap15kf" label="Κατηγορία Κινδύνου4" type="string" defaultValue="#{result[&#34;4&#34;]}" />
          <camunda:formField id="FormField_0j9efdg" label="Κατηγορία Κινδύνου5" type="string" defaultValue="#{result[&#34;5&#34;]}" />
          <camunda:formField id="FormField_3jojso7" label="Επείγον σήμα" type="string" defaultValue="#{signal}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1ucrvsb</bpmn:incoming>
      <bpmn:outgoing>Flow_0go2ffh</bpmn:outgoing>
    </bpmn:userTask>
  </bpmn:process>
  <bpmn:process id="GR_NAT_CP_ESKE" isExecutable="true">
    <bpmn:userTask id="ReviewRegionsTask" name="Review Map resutls" camunda:formKey="embedded:app:forms/review-regions.html" camunda:candidateGroups="GrESKE">
      <bpmn:incoming>Flow_10tz9p1</bpmn:incoming>
      <bpmn:incoming>Flow_0lt0tgq</bpmn:incoming>
      <bpmn:outgoing>Flow_1lvpr8x</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:serviceTask id="ProcessMapTask" name="Process Map" camunda:type="external" camunda:topic="process_map">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="map_image">${map}</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0ag0suu</bpmn:incoming>
      <bpmn:outgoing>Flow_10tz9p1</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:userTask id="EditRegionsTask" name="Review Map resutls" camunda:formKey="embedded:app:forms/review-regions.html" camunda:assignee="ESKE" camunda:candidateGroups="GrESKE">
      <bpmn:incoming>Flow_1on22v4</bpmn:incoming>
      <bpmn:outgoing>Flow_0lt0tgq</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:startEvent id="MapReceivedStartEvent" name="map received">
      <bpmn:outgoing>Flow_18i0kd9</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_06z7c20" messageRef="Message_0f52adi" />
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_1lvpr8x" sourceRef="ReviewRegionsTask" targetRef="regions_approved" />
    <bpmn:sequenceFlow id="Flow_10tz9p1" sourceRef="ProcessMapTask" targetRef="ReviewRegionsTask" />
    <bpmn:sequenceFlow id="Flow_0lt0tgq" sourceRef="EditRegionsTask" targetRef="ReviewRegionsTask" />
    <bpmn:sequenceFlow id="Flow_1on22v4" name="No" sourceRef="regions_approved" targetRef="EditRegionsTask">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{!approved}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0ft9kra" sourceRef="IssueWarningForFireServiceSubProcess" targetRef="Event_147x1or" />
    <bpmn:sequenceFlow id="Flow_18i0kd9" sourceRef="MapReceivedStartEvent" targetRef="Activity_04tnh7y" />
    <bpmn:sequenceFlow id="Flow_0ag0suu" sourceRef="Activity_04tnh7y" targetRef="ProcessMapTask" />
    <bpmn:callActivity id="Activity_04tnh7y" name="Email Map" calledElement="SendEmail">
      <bpmn:extensionElements>
        <camunda:in sourceExpression="${map}" target="map" />
        <camunda:in sourceExpression="${&#34;GrEskeEmailOrgs&#34;}" target="Recipients" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_18i0kd9</bpmn:incoming>
      <bpmn:outgoing>Flow_0ag0suu</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:subProcess id="IssueWarningForFireServiceSubProcess" name="Issue warning">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="signal_recipients">
            <camunda:list>
              <camunda:value>SECOND_LEVEL_CP</camunda:value>
              <camunda:value>THIRD_LEVEL_CP</camunda:value>
            </camunda:list>
          </camunda:inputParameter>
        </camunda:inputOutput>
        <camunda:executionListener event="start">
          <camunda:script scriptFormat="javascript">var _configuration=execution.getVariable("_configuration")
var list=_configuration.prop('GrEskeEwsOrgs').elements()

var jsonValue = S('{ "values":[] }');
var i;
for(i = 0; i&lt;list.length;i++){
var id = list[i];
jsonValue.prop("values").append(id); 
}
execution.setVariable("memberIdList", jsonValue);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0se6o7f</bpmn:incoming>
      <bpmn:outgoing>Flow_0ft9kra</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics isSequential="true" camunda:collection="#{map_results}" camunda:elementVariable="res" />
      <bpmn:callActivity id="IssueWarningsForFireServiceTask" name="Warn Regional CP" calledElement="IssueWarning">
        <bpmn:extensionElements>
          <camunda:in sourceExpression="${new_result}" target="result" />
          <camunda:in sourceExpression="ACTOR_TRANS_EWM_SECOND_LEVEL_CP" target="message_name" />
          <camunda:in sourceExpression="${new_result.region_name_camelCase}:$process" target="business_key" />
          <camunda:in sourceExpression="${map}" target="map" />
          <camunda:in sourceExpression="${&#34;CP&#34;}" target="organisation" />
          <camunda:in sourceExpression="${_configuration}" target="_configuration" />
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_02omlj6</bpmn:incoming>
        <bpmn:outgoing>Flow_076b4da</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:parallelGateway id="Gateway_0wyemre">
        <bpmn:incoming>Flow_05vtbsx</bpmn:incoming>
        <bpmn:incoming>Flow_076b4da</bpmn:incoming>
        <bpmn:incoming>Flow_0rsyyd2</bpmn:incoming>
        <bpmn:outgoing>Flow_1hzd3cp</bpmn:outgoing>
      </bpmn:parallelGateway>
      <bpmn:sendTask id="Activity_15z5syk" name="Email Warning" camunda:class="gr.isi.iolaos.JavaMailDelegate">
        <bpmn:extensionElements>
          <camunda:inputOutput>
            <camunda:inputParameter name="SendMessage">False</camunda:inputParameter>
            <camunda:inputParameter name="Recipients">#{region_eng}_ORGS</camunda:inputParameter>
            <camunda:inputParameter name="Body">TBD</camunda:inputParameter>
            <camunda:inputParameter name="Subject">Warning Of High Risk of Fire</camunda:inputParameter>
          </camunda:inputOutput>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0p1f4g3</bpmn:incoming>
        <bpmn:outgoing>Flow_05vtbsx</bpmn:outgoing>
      </bpmn:sendTask>
      <bpmn:parallelGateway id="Gateway_1d3p5zr">
        <bpmn:incoming>Flow_1j82lvk</bpmn:incoming>
        <bpmn:outgoing>Flow_0p1f4g3</bpmn:outgoing>
        <bpmn:outgoing>Flow_02omlj6</bpmn:outgoing>
        <bpmn:outgoing>Flow_1me6x93</bpmn:outgoing>
      </bpmn:parallelGateway>
      <bpmn:businessRuleTask id="Activity_0ugdqun" name="regions_gre_to_en" camunda:resultVariable="table_result" camunda:decisionRef="Decision_0zqckrs" camunda:mapDecisionResult="singleResult">
        <bpmn:extensionElements>
          <camunda:inputOutput>
            <camunda:outputParameter name="region_eng">
              <camunda:script scriptFormat="groovy">table_result.region_eng</camunda:script>
            </camunda:outputParameter>
          </camunda:inputOutput>
          <camunda:executionListener event="end">
            <camunda:script scriptFormat="groovy">static String toCamelCase( String text, boolean capitalized = true) {
text = text.replaceAll( "( )([A-Za-z0-9])", { Object[] it -&gt; it[2].toUpperCase() } )
return text
}
rr=execution.getVariable("table_result")

r=toCamelCase(rr.region_eng)

execution.setVariable("region_name_camelCase",r)
</camunda:script>
          </camunda:executionListener>
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_0qujreq</bpmn:incoming>
        <bpmn:outgoing>Flow_10q4cwl</bpmn:outgoing>
      </bpmn:businessRuleTask>
      <bpmn:exclusiveGateway id="Gateway_1qe1wka">
        <bpmn:incoming>Flow_1o6qfmg</bpmn:incoming>
        <bpmn:outgoing>Flow_0qujreq</bpmn:outgoing>
        <bpmn:outgoing>Flow_1o8akrg</bpmn:outgoing>
      </bpmn:exclusiveGateway>
      <bpmn:endEvent id="Event_0az9ij9">
        <bpmn:incoming>Flow_1hzd3cp</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:startEvent id="Event_0jlwgu4">
        <bpmn:outgoing>Flow_1o6qfmg</bpmn:outgoing>
      </bpmn:startEvent>
      <bpmn:sequenceFlow id="Flow_0qujreq" sourceRef="Gateway_1qe1wka" targetRef="Activity_0ugdqun">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression" language="groovy">(res.containsKey("4") || res.containsKey("5"))</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_1hzd3cp" sourceRef="Gateway_0wyemre" targetRef="Event_0az9ij9" />
      <bpmn:sequenceFlow id="Flow_0p1f4g3" sourceRef="Gateway_1d3p5zr" targetRef="Activity_15z5syk" />
      <bpmn:sequenceFlow id="Flow_05vtbsx" sourceRef="Activity_15z5syk" targetRef="Gateway_0wyemre" />
      <bpmn:scriptTask id="Activity_00w9yi9" name="Create config" scriptFormat="javascript">
        <bpmn:incoming>Flow_10q4cwl</bpmn:incoming>
        <bpmn:outgoing>Flow_1j82lvk</bpmn:outgoing>
        <bpmn:script>var region_eng=execution.getVariable("region_eng")

var region_name_camelCase=execution.getVariable("region_name_camelCase")

script_output=execution.getVariable("res")
                                     
script_output["region_eng"]=region_eng;
script_output["organisation"]="CP";
script_output["region_name_camelCase"]=region_name_camelCase



var configuration=execution.getVariable("_configuration")

var decentralized=""
var decs=configuration.prop("DecentralizedAdministrations").fieldNames();


for(i = 0;i&lt;decs.length;i++){
 var dec=decs[i]
  var regs=configuration.prop("DecentralizedAdministrations").prop(dec).elements()

for(j=0;j&lt;regs.length;j++)
{

  var name=regs.get(j).value()
  if(name==region_eng)
{
decentralized=dec

}




}


}


execution.setVariable("new_result",script_output)
execution.setVariable("decentralized",decentralized)




</bpmn:script>
      </bpmn:scriptTask>
      <bpmn:sequenceFlow id="Flow_1o6qfmg" sourceRef="Event_0jlwgu4" targetRef="Gateway_1qe1wka" />
      <bpmn:endEvent id="Event_1w0c48m">
        <bpmn:incoming>Flow_1o8akrg</bpmn:incoming>
      </bpmn:endEvent>
      <bpmn:sequenceFlow id="Flow_1o8akrg" sourceRef="Gateway_1qe1wka" targetRef="Event_1w0c48m">
        <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression" language="groovy">!(res.containsKey("4") || res.containsKey("5"))</bpmn:conditionExpression>
      </bpmn:sequenceFlow>
      <bpmn:sequenceFlow id="Flow_076b4da" sourceRef="IssueWarningsForFireServiceTask" targetRef="Gateway_0wyemre" />
      <bpmn:sequenceFlow id="Flow_10q4cwl" sourceRef="Activity_0ugdqun" targetRef="Activity_00w9yi9" />
      <bpmn:sequenceFlow id="Flow_1j82lvk" sourceRef="Activity_00w9yi9" targetRef="Gateway_1d3p5zr" />
      <bpmn:sequenceFlow id="Flow_02omlj6" sourceRef="Gateway_1d3p5zr" targetRef="IssueWarningsForFireServiceTask" />
      <bpmn:callActivity id="Activity_18sl4in" name="Warn Decentralized CP" calledElement="IssueWarning">
        <bpmn:extensionElements>
          <camunda:in sourceExpression="${new_result}" target="result" />
          <camunda:in sourceExpression="ACTOR_TRANS_EWM_THIRD_LEVEL_CP" target="message_name" />
          <camunda:in sourceExpression="${decentralized}:_process" target="business_key" />
          <camunda:in sourceExpression="${map}" target="map" />
          <camunda:in sourceExpression="${decentralized}" target="organisation" />
          <camunda:in sourceExpression="${_configuration}" target="_configuration" />
        </bpmn:extensionElements>
        <bpmn:incoming>Flow_1me6x93</bpmn:incoming>
        <bpmn:outgoing>Flow_0rsyyd2</bpmn:outgoing>
      </bpmn:callActivity>
      <bpmn:sequenceFlow id="Flow_0rsyyd2" sourceRef="Activity_18sl4in" targetRef="Gateway_0wyemre" />
      <bpmn:sequenceFlow id="Flow_1me6x93" sourceRef="Gateway_1d3p5zr" targetRef="Activity_18sl4in" />
    </bpmn:subProcess>
    <bpmn:endEvent id="Event_147x1or">
      <bpmn:incoming>Flow_0ft9kra</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:exclusiveGateway id="regions_approved" name="approved?">
      <bpmn:incoming>Flow_1lvpr8x</bpmn:incoming>
      <bpmn:outgoing>Flow_1on22v4</bpmn:outgoing>
      <bpmn:outgoing>Flow_1ratuqy</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_1ratuqy" name="Yes" sourceRef="regions_approved" targetRef="Gateway_1etpsdj">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{approved}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0se6o7f" sourceRef="Gateway_1etpsdj" targetRef="IssueWarningForFireServiceSubProcess" />
    <bpmn:parallelGateway id="Gateway_1etpsdj">
      <bpmn:incoming>Flow_1ratuqy</bpmn:incoming>
      <bpmn:outgoing>Flow_0se6o7f</bpmn:outgoing>
      <bpmn:outgoing>Flow_04nazaj</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:callActivity id="Activity_1e1sd8h" name="Warn Organisations" calledElement="IssueWarning">
      <bpmn:extensionElements>
        <camunda:in sourceExpression="${new_result}" target="result" />
        <camunda:in sourceExpression="ACTOR_TRANS_EWM_ORGANISATIONS" target="message_name" />
        <camunda:in sourceExpression="${organisation.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}_process" target="business_key" />
        <camunda:in sourceExpression="${map}" target="map" />
        <camunda:in sourceExpression="${organisation.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}" target="organisation" />
        <camunda:in sourceExpression="${_configuration}" target="_configuration" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_04nazaj</bpmn:incoming>
      <bpmn:outgoing>Flow_1rcg1km</bpmn:outgoing>
      <bpmn:multiInstanceLoopCharacteristics camunda:collection="${memberIdList.prop(&#34;values&#34;).elements()}" camunda:elementVariable="organisation" />
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="Flow_04nazaj" sourceRef="Gateway_1etpsdj" targetRef="Activity_1e1sd8h" />
    <bpmn:sequenceFlow id="Flow_1rcg1km" sourceRef="Activity_1e1sd8h" targetRef="Event_0l2mxn4" />
    <bpmn:endEvent id="Event_0l2mxn4">
      <bpmn:incoming>Flow_1rcg1km</bpmn:incoming>
    </bpmn:endEvent>
  </bpmn:process>
  <bpmn:process id="SendEmail" name="SendEmail" isExecutable="true">
    <bpmn:sequenceFlow id="Flow_1hds1ht" sourceRef="Activity_1jppnew" targetRef="Event_1h0hfj4" />
    <bpmn:startEvent id="Event_0ngfedi">
      <bpmn:outgoing>Flow_010pj0w</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_010pj0w" sourceRef="Event_0ngfedi" targetRef="Activity_1jppnew" />
    <bpmn:endEvent id="Event_1h0hfj4">
      <bpmn:incoming>Flow_1hds1ht</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:sendTask id="Activity_1jppnew" name="Send Email" camunda:class="gr.isi.iolaos.JavaMailDelegate">
      <bpmn:extensionElements>
        <camunda:inputOutput>
          <camunda:inputParameter name="SendMessage">False</camunda:inputParameter>
          <camunda:inputParameter name="Recipients">${Recipients}</camunda:inputParameter>
          <camunda:inputParameter name="Body">This the daily map</camunda:inputParameter>
          <camunda:inputParameter name="Subject">Daily Map</camunda:inputParameter>
        </camunda:inputOutput>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_010pj0w</bpmn:incoming>
      <bpmn:outgoing>Flow_1hds1ht</bpmn:outgoing>
    </bpmn:sendTask>
  </bpmn:process>
  <bpmn:process id="Process_15sjp3j" isExecutable="true">
    <bpmn:startEvent id="Event_0kga48z">
      <bpmn:extensionElements>
        <camunda:executionListener event="end">
          <camunda:script scriptFormat="groovy">static String toCamelCase( String text, boolean capitalized = true) {
text = text.replaceAll( "( )([A-Za-z0-9])", { Object[] it -&gt; it[2].toUpperCase() } )
return text
}


rr=execution.getVariable("organisation");

r=toCamelCase(rr);

region_name=execution.getVariable("result").prop(rr).prop("region_name").stringValue();
region_name_camelCase=toCamelCase(region_name);

execution.setVariable("organisation_camelCase",r);

execution.setVariable("region_name_camelCase",region_name_camelCase);</camunda:script>
        </camunda:executionListener>
      </bpmn:extensionElements>
      <bpmn:outgoing>Flow_1ds3gbj</bpmn:outgoing>
      <bpmn:messageEventDefinition id="MessageEventDefinition_1hqj1fy" messageRef="Message_1ajbjms" />
    </bpmn:startEvent>
    <bpmn:parallelGateway id="Gateway_0kjguol">
      <bpmn:incoming>Flow_0wcnmq1</bpmn:incoming>
      <bpmn:outgoing>Flow_1afadlk</bpmn:outgoing>
      <bpmn:outgoing>Flow_0qfjvdv</bpmn:outgoing>
      <bpmn:outgoing>Flow_0eycdd3</bpmn:outgoing>
      <bpmn:outgoing>Flow_1pjvfvl</bpmn:outgoing>
      <bpmn:outgoing>Flow_1ah7q4s</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:endEvent id="Event_1qtrl44">
      <bpmn:incoming>Flow_0j4pajy</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:endEvent id="Event_1k11d1s">
      <bpmn:incoming>Flow_0m1en4t</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:endEvent id="Event_14qyjay">
      <bpmn:incoming>Flow_0fg72r4</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:endEvent id="Event_1f0bhg8">
      <bpmn:incoming>Flow_0fgpisa</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:userTask id="Activity_1jzp0an" name="Readiness and support  of Fire Servic" camunda:candidateGroups="Gr#{region_name_camelCase}#{organisation_camelCase.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_1t602da" label="Επείγον Σήμα" type="string" defaultValue="#{signal}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1afadlk</bpmn:incoming>
      <bpmn:outgoing>Flow_0j4pajy</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_1i9gxue" name="Inform in local level" camunda:candidateGroups="Gr#{region_name_camelCase}#{organisation_camelCase.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_3ucr0lh" label="Επείγον Σήμα" type="string" defaultValue="#{signal}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0qfjvdv</bpmn:incoming>
      <bpmn:outgoing>Flow_0m1en4t</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_0utwrv3" name="Readiness for consequences relief" camunda:candidateGroups="Gr#{region_name_camelCase}#{organisation_camelCase.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_0651d7m" label="Επείγον Σήμα" type="string" defaultValue="#{signal}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0eycdd3</bpmn:incoming>
      <bpmn:outgoing>Flow_0fg72r4</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_03zth0t" name="Inform professionals working in the countryside" camunda:candidateGroups="Gr#{region_name_camelCase}#{organisation_camelCase.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_1kle26u" label="Επείγον Σήμα" type="string" defaultValue="#{signal}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1pjvfvl</bpmn:incoming>
      <bpmn:outgoing>Flow_0fgpisa</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:endEvent id="Event_1m22725">
      <bpmn:incoming>Flow_0wiurqt</bpmn:incoming>
      <bpmn:incoming>Flow_0kdgdqg</bpmn:incoming>
    </bpmn:endEvent>
    <bpmn:userTask id="Activity_1crqsxo" name="Apply decision of STO" camunda:candidateGroups="Gr#{region_name_camelCase}#{organisation_camelCase.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}">
      <bpmn:incoming>Flow_10mljox</bpmn:incoming>
      <bpmn:outgoing>Flow_0wiurqt</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:userTask id="Activity_01tq2tr" name="Convention of STO" camunda:candidateGroups="Gr#{region_name_camelCase}#{organisation_camelCase.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}">
      <bpmn:incoming>Flow_1nfvrkr</bpmn:incoming>
      <bpmn:outgoing>Flow_10mljox</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:exclusiveGateway id="Gateway_0m2p2vu">
      <bpmn:incoming>Flow_0txdta1</bpmn:incoming>
      <bpmn:outgoing>Flow_1nfvrkr</bpmn:outgoing>
      <bpmn:outgoing>Flow_0kdgdqg</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:userTask id="Activity_1qnu16m" name="Do we convene STO?" camunda:formKey="embedded:app:forms/convocation-sapp.html" camunda:candidateGroups="Gr#{region_name_camelCase}#{organisation_camelCase.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_1u5vpc6" label="Επείγον Σήμα" type="string" defaultValue="#{signal}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_1ah7q4s</bpmn:incoming>
      <bpmn:outgoing>Flow_0txdta1</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_0txdta1" sourceRef="Activity_1qnu16m" targetRef="Gateway_0m2p2vu" />
    <bpmn:sequenceFlow id="Flow_0kdgdqg" name="No" sourceRef="Gateway_0m2p2vu" targetRef="Event_1m22725">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{convocation}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_0wiurqt" sourceRef="Activity_1crqsxo" targetRef="Event_1m22725" />
    <bpmn:sequenceFlow id="Flow_1nfvrkr" name="Yes" sourceRef="Gateway_0m2p2vu" targetRef="Activity_01tq2tr">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">#{convocation}</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_10mljox" sourceRef="Activity_01tq2tr" targetRef="Activity_1crqsxo" />
    <bpmn:sequenceFlow id="Flow_1ah7q4s" sourceRef="Gateway_0kjguol" targetRef="Activity_1qnu16m" />
    <bpmn:sequenceFlow id="Flow_0fgpisa" sourceRef="Activity_03zth0t" targetRef="Event_1f0bhg8" />
    <bpmn:sequenceFlow id="Flow_0fg72r4" sourceRef="Activity_0utwrv3" targetRef="Event_14qyjay" />
    <bpmn:sequenceFlow id="Flow_1pjvfvl" sourceRef="Gateway_0kjguol" targetRef="Activity_03zth0t" />
    <bpmn:sequenceFlow id="Flow_0eycdd3" sourceRef="Gateway_0kjguol" targetRef="Activity_0utwrv3" />
    <bpmn:sequenceFlow id="Flow_0m1en4t" sourceRef="Activity_1i9gxue" targetRef="Event_1k11d1s" />
    <bpmn:sequenceFlow id="Flow_0qfjvdv" sourceRef="Gateway_0kjguol" targetRef="Activity_1i9gxue" />
    <bpmn:sequenceFlow id="Flow_0j4pajy" sourceRef="Activity_1jzp0an" targetRef="Event_1qtrl44" />
    <bpmn:sequenceFlow id="Flow_1afadlk" sourceRef="Gateway_0kjguol" targetRef="Activity_1jzp0an" />
    <bpmn:sequenceFlow id="Flow_0wcnmq1" sourceRef="Activity_17gtbq7" targetRef="Gateway_0kjguol" />
    <bpmn:userTask id="Activity_17gtbq7" name="Check Warning" camunda:assignee="demo" camunda:candidateGroups="Gr#{region_name_camelCase}#{organisation_camelCase.toString().replaceAll(&#39;&#34;&#39;, &#39;&#39;)}">
      <bpmn:extensionElements>
        <camunda:formData>
          <camunda:formField id="FormField_3sn3n6n" label="Επείγον Σήμα" type="string" defaultValue="#{signal}" />
        </camunda:formData>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_0wp65tg</bpmn:incoming>
      <bpmn:outgoing>Flow_0wcnmq1</bpmn:outgoing>
    </bpmn:userTask>
    <bpmn:sequenceFlow id="Flow_1ds3gbj" sourceRef="Event_0kga48z" targetRef="Activity_0jxjmy7" />
    <bpmn:scriptTask id="Activity_0jxjmy7" name="Create Warning Signal" scriptFormat="javascript">
      <bpmn:incoming>Flow_1ds3gbj</bpmn:incoming>
      <bpmn:outgoing>Flow_0wp65tg</bpmn:outgoing>
      <bpmn:script>var municipalities=execution.getVariable("result");
var municipality=execution.getVariable("organisation");
var danger=municipalities.prop(municipality).prop("danger").numberValue();


var s="";
if (danger==3)
{
   s="σε κατηγορία κινδύνου 3 (Πολύ Υψηλός Κίνδυνος εκδήλωσης Πυρκαγιάς)"
}
else if (danger==4)
{
   s="σε κατηγορία κινδύνου 4 (Πολύ Υψηλός Κίνδυνος εκδήλωσης Πυρκαγιάς)"
}
else if (danger==5)
{
   s="σε κατηγορία κινδύνου 5 (Πολύ Υψηλός Κίνδυνος εκδήλωσης Πυρκαγιάς)"
}
else
{
     s=""
}



var signal ="Σας ενημερώνουμε ότι εκδόθηκε ο ημερήσιος Χάρτης Πρόβλεψης Κινδύνου Πυρκαγιάς. Στον ανωτέρω χάρτη ο Δήμος μας βρίσκεται " +s+ " . Παρακαλούμε τις υπηρεσίες του Δήμου μας, που εμπλέκονται σε έργα και δράσεις για την αντιμετώπιση κινδύνων από δασικές Πυρκαγιές, να τεθούν σε κατάσταση ετοιμότητας βάσει του σχεδιασμού τους  και των αποφάσεων του  Σ.Τ.Ο., προκειμένου να αντιμετωπιστούν πιθανά προβλήματα που θα δημιουργηθούν. Περισσότερες πληροφορίες στην ιστοσελίδα της Γενικής Γραμματείας Πολιτικής Προστασίας (http://civilprotection.gr/el/)";

execution.setVariable("signal",signal)



</bpmn:script>
    </bpmn:scriptTask>
    <bpmn:sequenceFlow id="Flow_0wp65tg" sourceRef="Activity_0jxjmy7" targetRef="Activity_17gtbq7" />
  </bpmn:process>
  <bpmn:message id="Message_1ajbjms" name="ACTOR_TRANS_EWM_MUNICIPALITIES" />
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="Collaboration_1coanp3">
      <bpmndi:BPMNShape id="Participant_1s266bf_di" bpmnElement="DSAEEParticipant" isHorizontal="true">
        <dc:Bounds x="185" y="130" width="695" height="490" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_0bzm6iz_di" bpmnElement="DSAEEGR_Sci_TeamLane" isHorizontal="true">
        <dc:Bounds x="215" y="130" width="665" height="490" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1g4wsez_di" bpmnElement="Flow_1g4wsez">
        <di:waypoint x="298" y="390" />
        <di:waypoint x="340" y="390" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1yot5ag_di" bpmnElement="Flow_1yot5ag">
        <di:waypoint x="695" y="500" />
        <di:waypoint x="840" y="500" />
        <di:waypoint x="840" y="428" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0zroomx_di" bpmnElement="Flow_0zroomx">
        <di:waypoint x="440" y="390" />
        <di:waypoint x="470" y="390" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10bjbpd_di" bpmnElement="Flow_10bjbpd">
        <di:waypoint x="495" y="415" />
        <di:waypoint x="495" y="500" />
        <di:waypoint x="595" y="500" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0abedys_di" bpmnElement="Flow_0abedys">
        <di:waypoint x="495" y="365" />
        <di:waypoint x="495" y="317" />
        <di:waypoint x="595" y="317" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_07xfzih_di" bpmnElement="Flow_07xfzih">
        <di:waypoint x="695" y="317" />
        <di:waypoint x="840" y="317" />
        <di:waypoint x="840" y="392" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_1w1nlow_di" bpmnElement="UpdateTheWebSiteTask">
        <dc:Bounds x="595" y="277" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1n091ev_di" bpmnElement="ProcessEndedEndEvent">
        <dc:Bounds x="822" y="392" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="737" y="403" width="75" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_153drh2_di" bpmnElement="ProcessStartedStartEvent">
        <dc:Bounds x="262" y="372" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="260" y="408" width="40" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0iw3q0r_di" bpmnElement="Gateway_0phsra1">
        <dc:Bounds x="470" y="365" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ha6ztf_di" bpmnElement="UploadMapTask">
        <dc:Bounds x="340" y="350" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0qfpuvi_di" bpmnElement="SendMapToESKETask">
        <dc:Bounds x="595" y="460" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_1jh6669_di" bpmnElement="TextAnnotation_1jh6669">
        <dc:Bounds x="275" y="290" width="100" height="68" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Association_1syvntm_di" bpmnElement="Association_1syvntm">
        <di:waypoint x="289" y="375" />
        <di:waypoint x="297" y="358" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Participant_0p2ucd3_di" bpmnElement="Participant_0p2ucd3" isHorizontal="true">
        <dc:Bounds x="220" y="2530" width="600" height="310" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0j4176e_di" bpmnElement="Flow_0j4176e">
        <di:waypoint x="348" y="2710" />
        <di:waypoint x="440" y="2710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0g1seh0_di" bpmnElement="Flow_0g1seh0">
        <di:waypoint x="540" y="2710" />
        <di:waypoint x="682" y="2710" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_06ndr3r_di" bpmnElement="Event_06ndr3r">
        <dc:Bounds x="682" y="2692" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0wza2ta_di" bpmnElement="Event_1p6l04b">
        <dc:Bounds x="312" y="2692" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0olh69l_di" bpmnElement="Activity_0olh69l">
        <dc:Bounds x="440" y="2670" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0sncif7_di" bpmnElement="Participant_0sncif7" isHorizontal="true">
        <dc:Bounds x="2200" y="1490" width="420" height="250" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0is8oks_di" bpmnElement="Flow_0is8oks">
        <di:waypoint x="2460" y="1610" />
        <di:waypoint x="2512" y="1610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_01l5nlo_di" bpmnElement="Flow_01l5nlo">
        <di:waypoint x="2308" y="1621" />
        <di:waypoint x="2339" y="1621" />
        <di:waypoint x="2339" y="1631" />
        <di:waypoint x="2360" y="1631" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1qdx6f9_di" bpmnElement="Event_1y9l5y3">
        <dc:Bounds x="2272" y="1603" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_08cq0gk_di" bpmnElement="Activity_04kkb2m">
        <dc:Bounds x="2360" y="1570" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0oh7wl3_di" bpmnElement="Event_0oh7wl3">
        <dc:Bounds x="2512" y="1592" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0vmfn7v_di" bpmnElement="Participant_0vmfn7v" isHorizontal="true">
        <dc:Bounds x="2330" y="765" width="380" height="205" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0otiu2z_di" bpmnElement="Flow_0otiu2z">
        <di:waypoint x="2428" y="855" />
        <di:waypoint x="2454" y="855" />
        <di:waypoint x="2454" y="885" />
        <di:waypoint x="2480" y="885" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wiejy0_di" bpmnElement="Flow_0wiejy0">
        <di:waypoint x="2580" y="855" />
        <di:waypoint x="2642" y="855" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_06lokac_di" bpmnElement="Event_06lokac">
        <dc:Bounds x="2642" y="837" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0yjsp8s_di" bpmnElement="Activity_1ihznuv">
        <dc:Bounds x="2480" y="815" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1dt75b2_di" bpmnElement="Event_1dt75b2">
        <dc:Bounds x="2392" y="837" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0snlijd_di" bpmnElement="Participant_0snlijd" isHorizontal="true">
        <dc:Bounds x="1690" y="1490" width="470" height="268" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_10zixf5_di" bpmnElement="Flow_10zixf5">
        <di:waypoint x="1834" y="1650" />
        <di:waypoint x="1940" y="1650" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_12cqkkd_di" bpmnElement="Flow_12cqkkd">
        <di:waypoint x="2040" y="1650" />
        <di:waypoint x="2082" y="1650" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0s9f5om_di" bpmnElement="Flow_0s9f5om">
        <di:waypoint x="1750" y="1558" />
        <di:waypoint x="1750" y="1584" />
        <di:waypoint x="1784" y="1584" />
        <di:waypoint x="1784" y="1610" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1jh9b1x_di" bpmnElement="Event_0m594yx">
        <dc:Bounds x="1732" y="1522" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0vzqiny_di" bpmnElement="Che">
        <dc:Bounds x="1734" y="1610" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_16o3l89_di" bpmnElement="Activity_16o3l89">
        <dc:Bounds x="1940" y="1610" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1lk62ix_di" bpmnElement="Event_1lk62ix">
        <dc:Bounds x="2082" y="1632" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_04q8j4k_di" bpmnElement="CIVILPROTECTIONREGIONOF" isHorizontal="true">
        <dc:Bounds x="199" y="1475" width="1421" height="1015" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Lane_08r1rfl_di" bpmnElement="ReadinessStateLane" isHorizontal="true">
        <dc:Bounds x="229" y="1475" width="1391" height="1015" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1ucrvsb_di" bpmnElement="Flow_1ucrvsb">
        <di:waypoint x="353" y="1859" />
        <di:waypoint x="463" y="1859" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1lm6oje_di" bpmnElement="Flow_1lm6oje">
        <di:waypoint x="303" y="1730" />
        <di:waypoint x="303" y="1819" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_068te3k_di" bpmnElement="Flow_068te3k">
        <di:waypoint x="303" y="1598" />
        <di:waypoint x="303" y="1650" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0898rvj_di" bpmnElement="Flow_0898rvj">
        <di:waypoint x="650" y="1884" />
        <di:waypoint x="650" y="2320" />
        <di:waypoint x="900" y="2320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0yw1oja_di" bpmnElement="Flow_0yw1oja">
        <di:waypoint x="970" y="2150" />
        <di:waypoint x="1570" y="2150" />
        <di:waypoint x="1570" y="1877" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0xjt14g_di" bpmnElement="Flow_0xjt14g">
        <di:waypoint x="1538" y="2320" />
        <di:waypoint x="1570" y="2320" />
        <di:waypoint x="1570" y="1877" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1rva8db_di" bpmnElement="Flow_1rva8db">
        <di:waypoint x="650" y="1884" />
        <di:waypoint x="650" y="2150" />
        <di:waypoint x="870" y="2150" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0u3croq_di" bpmnElement="Flow_0u3croq">
        <di:waypoint x="650" y="1834" />
        <di:waypoint x="650" y="1640" />
        <di:waypoint x="800" y="1640" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0euffaq_di" bpmnElement="Flow_0euffaq">
        <di:waypoint x="900" y="1650" />
        <di:waypoint x="1570" y="1650" />
        <di:waypoint x="1570" y="1841" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0go2ffh_di" bpmnElement="Flow_0go2ffh">
        <di:waypoint x="563" y="1859" />
        <di:waypoint x="625" y="1859" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1pkdo4j_di" bpmnElement="Flow_1pkdo4j">
        <di:waypoint x="970" y="2032" />
        <di:waypoint x="1570" y="2032" />
        <di:waypoint x="1570" y="1877" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wjp4f6_di" bpmnElement="Flow_1wjp4f6">
        <di:waypoint x="1186" y="1939" />
        <di:waypoint x="1570" y="1939" />
        <di:waypoint x="1570" y="1877" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0cmuong_di" bpmnElement="Flow_0cmuong">
        <di:waypoint x="1240" y="1750" />
        <di:waypoint x="1570" y="1750" />
        <di:waypoint x="1570" y="1841" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0r8liiu_di" bpmnElement="Flow_0r8liiu">
        <di:waypoint x="650" y="1884" />
        <di:waypoint x="650" y="2032" />
        <di:waypoint x="870" y="2032" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1s6i6ia_di" bpmnElement="Flow_1s6i6ia">
        <di:waypoint x="650" y="1884" />
        <di:waypoint x="650" y="1939" />
        <di:waypoint x="1086" y="1939" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qcuc5p_di" bpmnElement="Flow_1qcuc5p">
        <di:waypoint x="650" y="1834" />
        <di:waypoint x="650" y="1750" />
        <di:waypoint x="1140" y="1750" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1qk2l9u_di" bpmnElement="Flow_1qk2l9u">
        <di:waypoint x="675" y="1859" />
        <di:waypoint x="1552" y="1859" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_19p3qv7_di" bpmnElement="Flow_19p3qv7">
        <di:waypoint x="1070" y="1859" />
        <di:waypoint x="1552" y="1859" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18c7ids_di" bpmnElement="Flow_18c7ids">
        <di:waypoint x="675" y="1859" />
        <di:waypoint x="970" y="1859" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_0u8lc8n_di" bpmnElement="InformPublicInRegionalLevelTask">
        <dc:Bounds x="1086" y="1899" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_02o070v_di" bpmnElement="PTask1">
        <dc:Bounds x="970" y="1819" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0si8w0z_di" bpmnElement="PPTask">
        <dc:Bounds x="870" y="1992" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1ss3fe3_di" bpmnElement="Activity_159epyi">
        <dc:Bounds x="870" y="2110" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_14wcs6j_di" bpmnElement="Event_14wcs6j">
        <dc:Bounds x="1552" y="1841" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0bp6tzg_di" bpmnElement="Activity_0bp6tzg" isExpanded="true">
        <dc:Bounds x="900" y="2220" width="638" height="200" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_11r490f_di" bpmnElement="Flow_11r490f">
        <di:waypoint x="1185" y="2290" />
        <di:waypoint x="1482" y="2290" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1327" y="2272" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1wvfefo_di" bpmnElement="Flow_1wvfefo">
        <di:waypoint x="958" y="2290" />
        <di:waypoint x="980" y="2290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0lep8d6_di" bpmnElement="Flow_0lep8d6">
        <di:waypoint x="1300" y="2360" />
        <di:waypoint x="1330" y="2360" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1cvmjqk_di" bpmnElement="Flow_1cvmjqk">
        <di:waypoint x="1160" y="2315" />
        <di:waypoint x="1160" y="2360" />
        <di:waypoint x="1200" y="2360" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="1167" y="2335" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0iyoslc_di" bpmnElement="Flow_0iyoslc">
        <di:waypoint x="1430" y="2360" />
        <di:waypoint x="1456" y="2360" />
        <di:waypoint x="1456" y="2290" />
        <di:waypoint x="1482" y="2290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wzpx3i_di" bpmnElement="Flow_0wzpx3i">
        <di:waypoint x="1080" y="2290" />
        <di:waypoint x="1135" y="2290" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_0f5wd96_di" bpmnElement="Activity_0f5wd96">
        <dc:Bounds x="1330" y="2320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1qpvepd_di" bpmnElement="Activity_1qpvepd">
        <dc:Bounds x="1200" y="2320" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1b90gf4_di" bpmnElement="Event_1b90gf4">
        <dc:Bounds x="1482" y="2272" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1x419ib_di" bpmnElement="Gateway_1x419ib" isMarkerVisible="true">
        <dc:Bounds x="1135" y="2265" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_014ybvd_di" bpmnElement="Activity_014ybvd">
        <dc:Bounds x="980" y="2250" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1vzf6x2_di" bpmnElement="Event_1vzf6x2">
        <dc:Bounds x="922" y="2272" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0pl595k_di" bpmnElement="Activity_0pl595k">
        <dc:Bounds x="800" y="1610" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1us4fte_di" bpmnElement="PTask">
        <dc:Bounds x="1140" y="1710" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1xajg61_di" bpmnElement="Gateway_1xajg61">
        <dc:Bounds x="625" y="1834" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1chmbcy_di" bpmnElement="Event_0fndt8y">
        <dc:Bounds x="285" y="1562" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="191.5" y="1573" width="83" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0f4sj10_di" bpmnElement="Activity_0f4sj10">
        <dc:Bounds x="253" y="1650" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_13uba0y_di" bpmnElement="Activity_0tsftw8">
        <dc:Bounds x="253" y="1819" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1g56ydg_di" bpmnElement="Activity_0m1q643">
        <dc:Bounds x="463" y="1819" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_084yfsv_di" bpmnElement="ESKEParticipant" isHorizontal="true">
        <dc:Bounds x="185" y="700" width="1905" height="750" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1rcg1km_di" bpmnElement="Flow_1rcg1km">
        <di:waypoint x="1320" y="1320" />
        <di:waypoint x="1892" y="1320" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_04nazaj_di" bpmnElement="Flow_04nazaj">
        <di:waypoint x="840" y="925" />
        <di:waypoint x="840" y="1330" />
        <di:waypoint x="1220" y="1330" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0se6o7f_di" bpmnElement="Flow_0se6o7f">
        <di:waypoint x="865" y="900" />
        <di:waypoint x="900" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ratuqy_di" bpmnElement="Flow_1ratuqy">
        <di:waypoint x="765" y="900" />
        <di:waypoint x="815" y="900" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="782" y="882" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ag0suu_di" bpmnElement="Flow_0ag0suu">
        <di:waypoint x="420" y="900" />
        <di:waypoint x="450" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_18i0kd9_di" bpmnElement="Flow_18i0kd9">
        <di:waypoint x="288" y="900" />
        <di:waypoint x="320" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0ft9kra_di" bpmnElement="Flow_0ft9kra">
        <di:waypoint x="1850" y="960" />
        <di:waypoint x="1912" y="960" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1on22v4_di" bpmnElement="Flow_1on22v4">
        <di:waypoint x="740" y="925" />
        <di:waypoint x="740" y="1040" />
        <di:waypoint x="670" y="1040" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="749" y="980" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0lt0tgq_di" bpmnElement="Flow_0lt0tgq">
        <di:waypoint x="620" y="1000" />
        <di:waypoint x="620" y="940" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10tz9p1_di" bpmnElement="Flow_10tz9p1">
        <di:waypoint x="550" y="900" />
        <di:waypoint x="570" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1lvpr8x_di" bpmnElement="Flow_1lvpr8x">
        <di:waypoint x="670" y="900" />
        <di:waypoint x="715" y="900" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_1331h69_di" bpmnElement="ReviewRegionsTask">
        <dc:Bounds x="570" y="860" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1aqx2eu_di" bpmnElement="ProcessMapTask">
        <dc:Bounds x="450" y="860" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_00i6c37_di" bpmnElement="EditRegionsTask">
        <dc:Bounds x="570" y="1000" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_15wv0su_di" bpmnElement="MapReceivedStartEvent">
        <dc:Bounds x="252" y="882" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="237" y="925" width="67" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_08bx7ql_di" bpmnElement="Activity_04tnh7y">
        <dc:Bounds x="320" y="860" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0cuwq95_di" bpmnElement="IssueWarningForFireServiceSubProcess" isExpanded="true">
        <dc:Bounds x="900" y="730" width="950" height="490" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1me6x93_di" bpmnElement="Flow_1me6x93">
        <di:waypoint x="1415" y="928" />
        <di:waypoint x="1463" y="928" />
        <di:waypoint x="1463" y="950" />
        <di:waypoint x="1510" y="950" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0rsyyd2_di" bpmnElement="Flow_0rsyyd2">
        <di:waypoint x="1610" y="928" />
        <di:waypoint x="1625" y="928" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_02omlj6_di" bpmnElement="Flow_02omlj6">
        <di:waypoint x="1390" y="953" />
        <di:waypoint x="1390" y="1070" />
        <di:waypoint x="1440" y="1070" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1j82lvk_di" bpmnElement="Flow_1j82lvk">
        <di:waypoint x="1320" y="928" />
        <di:waypoint x="1365" y="928" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10q4cwl_di" bpmnElement="Flow_10q4cwl">
        <di:waypoint x="1200" y="928" />
        <di:waypoint x="1220" y="928" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_076b4da_di" bpmnElement="Flow_076b4da">
        <di:waypoint x="1540" y="1070" />
        <di:waypoint x="1650" y="1070" />
        <di:waypoint x="1650" y="953" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1o8akrg_di" bpmnElement="Flow_1o8akrg">
        <di:waypoint x="1040" y="953" />
        <di:waypoint x="1040" y="1150" />
        <di:waypoint x="1712" y="1150" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1o6qfmg_di" bpmnElement="Flow_1o6qfmg">
        <di:waypoint x="968" y="928" />
        <di:waypoint x="1015" y="928" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_05vtbsx_di" bpmnElement="Flow_05vtbsx">
        <di:waypoint x="1560" y="800" />
        <di:waypoint x="1650" y="800" />
        <di:waypoint x="1650" y="903" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0p1f4g3_di" bpmnElement="Flow_0p1f4g3">
        <di:waypoint x="1390" y="903" />
        <di:waypoint x="1390" y="800" />
        <di:waypoint x="1460" y="800" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hzd3cp_di" bpmnElement="Flow_1hzd3cp">
        <di:waypoint x="1675" y="928" />
        <di:waypoint x="1712" y="928" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qujreq_di" bpmnElement="Flow_0qujreq">
        <di:waypoint x="1065" y="928" />
        <di:waypoint x="1100" y="928" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Activity_0loi70m_di" bpmnElement="IssueWarningsForFireServiceTask">
        <dc:Bounds x="1440" y="1030" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_16cwugz_di" bpmnElement="Gateway_0wyemre">
        <dc:Bounds x="1625" y="903" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_15nxx0z_di" bpmnElement="Activity_15z5syk">
        <dc:Bounds x="1460" y="760" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1fa4fgk_di" bpmnElement="Gateway_1d3p5zr">
        <dc:Bounds x="1365" y="903" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0ugdqun_di" bpmnElement="Activity_0ugdqun">
        <dc:Bounds x="1100" y="888" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1qe1wka_di" bpmnElement="Gateway_1qe1wka" isMarkerVisible="true">
        <dc:Bounds x="1015" y="903" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0az9ij9_di" bpmnElement="Event_0az9ij9">
        <dc:Bounds x="1712" y="910" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0jlwgu4_di" bpmnElement="Event_0jlwgu4">
        <dc:Bounds x="932" y="910" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1eh173v_di" bpmnElement="Activity_00w9yi9">
        <dc:Bounds x="1220" y="888" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1w0c48m_di" bpmnElement="Event_1w0c48m">
        <dc:Bounds x="1712" y="1132" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_18sl4in_di" bpmnElement="Activity_18sl4in">
        <dc:Bounds x="1510" y="888" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_147x1or_di" bpmnElement="Event_147x1or">
        <dc:Bounds x="1912" y="942" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_07jwwz1_di" bpmnElement="regions_approved" isMarkerVisible="true">
        <dc:Bounds x="715" y="875" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="715" y="851" width="53" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_1k0mujn_di" bpmnElement="Gateway_1etpsdj">
        <dc:Bounds x="815" y="875" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1e1sd8h_di" bpmnElement="Activity_1e1sd8h">
        <dc:Bounds x="1220" y="1280" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_0l2mxn4_di" bpmnElement="Event_0l2mxn4">
        <dc:Bounds x="1892" y="1302" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_0q4jcxy_di" bpmnElement="Participant_0q4jcxy" isHorizontal="true">
        <dc:Bounds x="1000" y="230" width="600" height="250" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_010pj0w_di" bpmnElement="Flow_010pj0w">
        <di:waypoint x="1108" y="340" />
        <di:waypoint x="1371" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1hds1ht_di" bpmnElement="Flow_1hds1ht">
        <di:waypoint x="1471" y="340" />
        <di:waypoint x="1532" y="340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_0ngfedi_di" bpmnElement="Event_0ngfedi">
        <dc:Bounds x="1072" y="322" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1h0hfj4_di" bpmnElement="Event_1h0hfj4">
        <dc:Bounds x="1532" y="322" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_06hr1ib_di" bpmnElement="Activity_1jppnew">
        <dc:Bounds x="1371" y="300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Participant_1542ehx_di" bpmnElement="Participant_1542ehx" isHorizontal="true">
        <dc:Bounds x="1690" y="1880" width="880" height="950" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_0wp65tg_di" bpmnElement="Flow_0wp65tg">
        <di:waypoint x="1880" y="2210" />
        <di:waypoint x="1930" y="2210" />
        <di:waypoint x="1930" y="2095" />
        <di:waypoint x="1920" y="2095" />
        <di:waypoint x="1920" y="2020" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ds3gbj_di" bpmnElement="Flow_1ds3gbj">
        <di:waypoint x="1770" y="2028" />
        <di:waypoint x="1770" y="2200" />
        <di:waypoint x="1780" y="2200" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wcnmq1_di" bpmnElement="Flow_0wcnmq1">
        <di:waypoint x="1950" y="1980" />
        <di:waypoint x="1973" y="1980" />
        <di:waypoint x="1973" y="2010" />
        <di:waypoint x="1995" y="2010" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1afadlk_di" bpmnElement="Flow_1afadlk">
        <di:waypoint x="2045" y="2010" />
        <di:waypoint x="2270" y="2010" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0j4pajy_di" bpmnElement="Flow_0j4pajy">
        <di:waypoint x="2370" y="2010" />
        <di:waypoint x="2472" y="2010" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0qfjvdv_di" bpmnElement="Flow_0qfjvdv">
        <di:waypoint x="2020" y="2035" />
        <di:waypoint x="2020" y="2120" />
        <di:waypoint x="2190" y="2120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0m1en4t_di" bpmnElement="Flow_0m1en4t">
        <di:waypoint x="2290" y="2120" />
        <di:waypoint x="2472" y="2120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0eycdd3_di" bpmnElement="Flow_0eycdd3">
        <di:waypoint x="2020" y="2035" />
        <di:waypoint x="2020" y="2230" />
        <di:waypoint x="2290" y="2230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1pjvfvl_di" bpmnElement="Flow_1pjvfvl">
        <di:waypoint x="2020" y="2035" />
        <di:waypoint x="2020" y="2340" />
        <di:waypoint x="2240" y="2340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0fg72r4_di" bpmnElement="Flow_0fg72r4">
        <di:waypoint x="2390" y="2230" />
        <di:waypoint x="2472" y="2230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0fgpisa_di" bpmnElement="Flow_0fgpisa">
        <di:waypoint x="2340" y="2340" />
        <di:waypoint x="2472" y="2340" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1ah7q4s_di" bpmnElement="Flow_1ah7q4s">
        <di:waypoint x="2020" y="2035" />
        <di:waypoint x="2020" y="2450" />
        <di:waypoint x="2090" y="2450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_10mljox_di" bpmnElement="Flow_10mljox">
        <di:waypoint x="2320" y="2590" />
        <di:waypoint x="2370" y="2590" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1nfvrkr_di" bpmnElement="Flow_1nfvrkr">
        <di:waypoint x="2270" y="2475" />
        <di:waypoint x="2270" y="2550" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2277" y="2510" width="18" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0wiurqt_di" bpmnElement="Flow_0wiurqt">
        <di:waypoint x="2470" y="2590" />
        <di:waypoint x="2490" y="2590" />
        <di:waypoint x="2490" y="2468" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0kdgdqg_di" bpmnElement="Flow_0kdgdqg">
        <di:waypoint x="2295" y="2450" />
        <di:waypoint x="2472" y="2450" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="2323" y="2432" width="15" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0txdta1_di" bpmnElement="Flow_0txdta1">
        <di:waypoint x="2190" y="2450" />
        <di:waypoint x="2245" y="2450" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="Event_1h8yexw_di" bpmnElement="Event_0kga48z">
        <dc:Bounds x="1752" y="1992" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0o280ar_di" bpmnElement="Gateway_0kjguol">
        <dc:Bounds x="1995" y="1985" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1qtrl44_di" bpmnElement="Event_1qtrl44">
        <dc:Bounds x="2472" y="1992" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1k11d1s_di" bpmnElement="Event_1k11d1s">
        <dc:Bounds x="2472" y="2102" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_14qyjay_di" bpmnElement="Event_14qyjay">
        <dc:Bounds x="2472" y="2212" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1f0bhg8_di" bpmnElement="Event_1f0bhg8">
        <dc:Bounds x="2472" y="2322" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1sx9n9t_di" bpmnElement="Activity_1jzp0an">
        <dc:Bounds x="2270" y="1970" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1sz0bkb_di" bpmnElement="Activity_1i9gxue">
        <dc:Bounds x="2190" y="2080" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0bj7nfl_di" bpmnElement="Activity_0utwrv3">
        <dc:Bounds x="2290" y="2190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0vgqe9y_di" bpmnElement="Activity_03zth0t">
        <dc:Bounds x="2240" y="2300" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Event_1m22725_di" bpmnElement="Event_1m22725">
        <dc:Bounds x="2472" y="2432" width="36" height="36" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_1crqsxo_di" bpmnElement="Activity_1crqsxo">
        <dc:Bounds x="2370" y="2550" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_01tq2tr_di" bpmnElement="Activity_01tq2tr">
        <dc:Bounds x="2220" y="2550" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Gateway_0m2p2vu_di" bpmnElement="Gateway_0m2p2vu" isMarkerVisible="true">
        <dc:Bounds x="2245" y="2425" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_10o3llr_di" bpmnElement="Activity_1qnu16m">
        <dc:Bounds x="2090" y="2410" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0j9rjzr_di" bpmnElement="Activity_17gtbq7">
        <dc:Bounds x="1850" y="1940" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Activity_0k0800t_di" bpmnElement="Activity_0jxjmy7">
        <dc:Bounds x="1780" y="2170" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_050pbr5_di" bpmnElement="TextAnnotation_050pbr5">
        <dc:Bounds x="910" y="80" width="100" height="140" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="TextAnnotation_0a7nf9i_di" bpmnElement="TextAnnotation_0a7nf9i">
        <dc:Bounds x="1680" y="1780" width="100" height="39" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Flow_1qzwh0d_di" bpmnElement="Flow_1qzwh0d">
        <di:waypoint x="849" y="1690" />
        <di:waypoint x="840" y="2390" />
        <di:waypoint x="330" y="2390" />
        <di:waypoint x="330" y="2692" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1vwp4e0_di" bpmnElement="Flow_1vwp4e0">
        <di:waypoint x="1270" y="1360" />
        <di:waypoint x="1270" y="1410" />
        <di:waypoint x="2290" y="1410" />
        <di:waypoint x="2290" y="1603" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_0s1zqr6_di" bpmnElement="Flow_0s1zqr6">
        <di:waypoint x="1490" y="1110" />
        <di:waypoint x="1490" y="1170" />
        <di:waypoint x="303" y="1170" />
        <di:waypoint x="303" y="1562" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_06dqhja_di" bpmnElement="Flow_06dqhja">
        <di:waypoint x="645" y="540" />
        <di:waypoint x="645" y="663" />
        <di:waypoint x="270" y="663" />
        <di:waypoint x="270" y="882" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_023g7ca_di" bpmnElement="Flow_023g7ca">
        <di:waypoint x="1610" y="958" />
        <di:waypoint x="1610" y="1310" />
        <di:waypoint x="1750" y="1310" />
        <di:waypoint x="1750" y="1522" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Flow_1dmwj44_di" bpmnElement="Flow_1dmwj44">
        <di:waypoint x="1990" y="1690" />
        <di:waypoint x="1990" y="1851" />
        <di:waypoint x="1770" y="1851" />
        <di:waypoint x="1770" y="1992" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
